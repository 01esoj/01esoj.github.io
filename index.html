<!DOCTYPE html>
<!--[if lt IE 7]>      <html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]>         <html class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]>         <html class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]>      <html class="no-js"> <![endif]-->
<html>
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <title>Tutorial JUnit - Visual Studio</title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-Zenh87qX5JnK2Jl0vWa8Ck2rdkQ2Bzep5IDxbcnCeuOxjzrPF/et3URy9Bv1WTRi" crossorigin="anonymous">
        <link href="estilosPagina.css" rel="stylesheet">
    </head>
    <body>
        <header style="background: #333">
            <div class="container">
                <a style="color: #ddd">VSCode JUnit5 (Jose y Javier)</a>
            </div>
        </header>
        <main>
            <section>
                <div class="introduccion">
                    <h2>ANÁLISIS DE CÓDIGO</h2>
                    <p>Una de las tareas más importantes que deberemos realizar mientras desarrollamos software es asegurarnos de que nuestro código funcionará correctamente.</p>
                    <h2>PRUEBAS DEL CÓDIGO</h2>
                    <p>Es la ejecución del proceso de pruebas; consistente en la planificación, preparación y evaluación de un producto de software y sus artefactos de trabajo, <br> para determinar si satisfacen los requerimientos, demostrar que son aptos para el propósito, y detectar defectos.</p>
                    <h2>DEPURACIÓN DEL CÓDIGO</h2>
                    <p>La depuración de programas es el proceso de identificar y corregir errores de programación. Consistente en el análisis de fallos y la reparación de defectos (bugs).</p>
                </div>
                <div class="pruebaUnitaria">
                    <span>
                        <h2>PRUEBAS UNITARIAS</h2>
                        <p>Las pruebas deberían implementarse de manera sistemática con cada nueva funcionalidad que se añada, teniendo de este modo las pruebas actualizadas en cada momento. <br> Es importante que las pruebas se realicen y se ejecuten de manera incremental.</p>
                    </span>
                    <span>
                        <img class="prueba" src="imagenes/pruebaUnit.PNG" width="500px">
                    </span>
                </div>
                <div class="casosDePrueba">
                    <span>
                        <h3>PRUEBAS UNITARIAS: CASOS DE PRUEBA</h3>
                        <p>Los casos de prueba son una serie de condiciones que se establecen con el objetivo de determinar si la aplicación funciona correctamente según lo esperado.</p>
                        <p>Las pruebas de <strong>caja blanca</strong> se centran en el funcionamiento interno del programa, observando y comprobando cómo se realiza una operación. También se las conoce como <br>pruebas estructurales o de caja de cristal. Dentro de estas pruebas se encuentran las pruebas JUnit.</p>
                        <p>Las pruebas de <strong>caja negra</strong> se enfocan en los métodos de entrada y salida de la aplicación, no en cuestión de formato, sino de validar y controlar los datos de entrada <br>para evitar errores y, por supuesto, al igual que en todas las pruebas, obtener los resultados esperados. También llamadas pruebas de comportamiento.</p>
                    </span>
                    <span>
                        <img class="cajas" src="imagenes/cajas.PNG" width="500px">
                    </span>
                </div>
                <div class="configurarVS">
                    <span>
                        <h2>CONFIGURACIÓN DE VISUAL STUDIO CODE</h2>
                        <h3>Paso 1</h3>
                        <p>Tendremos que comprobar que tengamos instalada la extensión <i>Extension Pack for Java</i>. Si la tenemos instalada, veremos en la sección izquierda de VSCode la pestaña <i>Pruebas</i> o <i>Testing</i>. <br>Si no nos saliera la pestaña, tendríamos que desinstalar y reinstalar la extensión.</p>
                    </span>
                    <span>
                        <img class="probeta" src="imagenes/probeta.PNG" width="200px">
                    </span>
                    <div class="paso2">
                        <span>
                            <h3>Paso 2</h3>
                            <p>Ahora nos dirigiremos a la pestaña Pruebas y habilitaremos las pruebas de Java, en la pestaña superior emergente seleccionamos JUnit. Una vez habilitadas, comenzarán a descargarse las librerías correspondientes.</p>
                        </span>
                        <span>
                            <img class="habilitar" src="imagenes/habilitarPruebas.PNG" width="200px">
                        </span>
                    </div>
                    <div class="paso3">
                        <span>
                            <h3>Paso 3</h3>
                            <p>Nuestro Visual Studio ya estará preparado para testear clases Java. <br>En nuestra clase test, a la izquierda de cada test no saldra un tick en verde que si pulsamos sobre él se realizarán las pruebas.</p>
                        </span>
                        <span>
                            <img class="habilitar" src="imagenes/ejercicio1.PNG" width="700px">
                        </span>
                    </div>
                    <div class="archivosFuente">
                        <br>
                        <a href="https://github.com/01esoj/01esoj.github.io"><h3>Enlace a archivos fuente en GitHub (clickar encima)</h3></a>
                    </div>
                    <div class="fotos">
                        <br>
                        <span><h3>Código de las clases</h3></span>
                        <pre>package pruebaJunit;
                            public class Coche {
                                public String modelo;
                                public float precioBase;
                                public static float impuesto; //porcentaje entre 0 y 100 y ESTÁTICO pq es común para todas las instancias
                            
                                //constructor
                                public Coche(String modelo, float precioBase) {
                                    this.modelo = modelo;
                                    this.precioBase = precioBase;
                                }
                            
                                //MÉTODO que es precísamente el que queremos probar    
                                
                                public float precioFinal(float descuento) throws Exception {//1-Devuelve un float que es el precio final del coche.
                                    float precioConDescuento = this.precioBase;//INICIALMENTE EL PRECIO ES PRECIO BASE QUE TENGA
                                    if (descuento < 0 || descuento > 100)//PORCENTAJE QUE SE LE APLICA AL PRECIO FINAL
                                        throw new RuntimeException("Descuento erróneo");
                                    if (precioBase >= 5000) {//SI EL PRECIO ES MAYOR O IGUAL DE 5000 SE LE HACE EL DESCUENTO
                                        precioConDescuento = this.precioBase - (this.precioBase * descuento / 100f);
                                    }
                                    return precioConDescuento + precioConDescuento * this.impuesto / 100f;
                                }
                            }
                        </pre>
                        <pre>package pruebaJunit;
                            import static org.junit.Assert.assertEquals;
                            import org.junit.Test;
                            
                            public class TestCoche {
                                @Test
                                public void testPrecioFinal() throws Exception {
                                    
                                    System.out.println("precioFinal");
                                    float descuento = 10.0f;
                                    Coche instance = new Coche("Audi A3", 10000);
                                    Coche.impuesto = 20f;
                                    float expResult = 10800;// si cambiamos el precio da error
                                    float result = instance.precioFinal(descuento);
                                    assertEquals(expResult, result, 0.000001);// delta=diferencia máx. permitida
                                }
                            }
                        </pre>
                        <pre>package pruebaJunit;
                            public class CocheTest {
                                public static void main(String[] args) throws Exception{//como esto podía lanzar excepción, se la hemos puesto
                                    Coche p = new Coche("Audi A3",10000);
                                    Coche.impuesto=20f;
                                    System.out.println("Precio final: " + p.precioFinal(10f));//llamamos al precio final con un dscto del 10%   
                                }
                            }
                        </pre>
                    </div>
                </div>
            </section>
        </main>
        <br>
        <br>
    </body>
</html>